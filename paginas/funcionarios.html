<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../assets/css/stylePaginas.css">
    <title>Cadastro de Funcionários</title>
</head>
<body>
    <header>
        <h1>Cadastro de Funcionários</h1>
        <menu>
            <nav aria-label="breadcrumb" id="breadcrumb">
                <ul>
                    <li><a href="index.html">Dashboard </a></li>
                    <li><a href="funcionarios.html">Cadastro de Funcionários</a></li>
                </ul>
            </nav>
        </menu>
    </header>
    <main>
        <article class="form-container">
            <h2 style="margin-top: 120px;">Novo <div>Funcionário</div></h2>
            <form action="" method="post" enctype="multipart/form-data" autocomplete="on">
                <label for="nome">Nome Completo:</label>
                <input type="text" name="nome" id="nome" autocomplete="name" required>

                <label for="bi">BI:</label>
                <input type="text" name="bi" id="bi" autocomplete="off" required>

                <label for="foto">Fotográfia do Funcionário:</label>
                <input type="file" name="foto" accept="image/*" id="foto" autocomplete="off" required>

                <label for="data_nascimento">Data de Nascimento:</label>
                <input type="date" name="data_nascimento" id="data_nascimento" autocomplete="off">

                <label for="telefone">Número de Telefone:</label>
                <input type="tel" name="telefone" id="telefone" autocomplete="tel" placeholder="923-456-234" maxlength="9" required>

                <label for="endereco">Endereço:</label>
                <input type="text" name="endereco" id="endereco" autocomplete="street-address" placeholder="Gabela, Kwanza-Sul" required>

                <label for="email">E-mail:</label>
                <input type="email" name="email" id="email" autocomplete="email" placeholder="exemplo@gmail.com" required>                

                <button type="submit">Cadastrar Funcionário</button>     
            </form>
        </article>
        
        <article class="table-container">
            <div class="table-header">
                <h2>Funcionários Cadastrados</h2>
                <div class="search-container">
                    <input type="search" id="pesquisar" placeholder="Pesquisar funcionários..." class="search-input">
                </div>
            </div>
            
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nome Completo</th>
                        <th>BI</th>
                        <th>Data Nascimento</th>
                        <th>Telefone</th>
                        <th>Endereço</th>
                        <th>E-mail</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </article>
    </main>
    <script src="/assets/js/supabase.js" type="module"></script>
    <script src="/assets/js/auth.js" type="module"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
        const session = await checkAuth()
            // Mostrar informações do usuário
            if (session?.user) {
            document.getElementById('user-name').textContent = session.user.email
        }
    })
    </script>
</body>
</html>